{% extends "base_dashboard.html" %}

{% block content %}
<div class="salas-container">

    <!-- Filtros -->
    <div class="filter-bar d-flex justify-content-center align-items-center mt-3">
        <button class="btn btn-light me-2">FILTRAR POR</button>
        <button class="btn btn-success">
            <i class="bi bi-filter"></i>
        </button>
    </div>

    <!-- BotÃ£o Nova Sala (apenas admin) -->
    {% if tipo_usuario == "ADMINISTRADOR" %}
    <div class="text-end mt-4 me-4">
        <button class="btn btn-dark rounded-pill px-4" id="novaSalaBtn">
            Nova sala
        </button>
    </div>
    {% endif %}

    <!-- Lista de salas -->
    <div class="salas-grid d-flex flex-wrap justify-content-center mt-4 gap-3">
        {% for sala in salas %}
        <div class="sala-card" data-id="{{ sala.id }}">
            {{ sala.nome }}
        </div>
        {% endfor %}
    </div>

</div>

<!-- Modal Detalhes da Sala -->
<div class="modal fade" id="salaModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content p-3">
      <h4 id="salaModalNome"></h4>
      <p><strong>Capacidade:</strong> <span id="salaModalCapacidade"></span></p>
      <p><strong>Equipamentos:</strong> <span id="salaModalEquip"></span></p>
      <button class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
    </div>
  </div>
</div>

<!-- Modal Nova Sala -->
<div class="modal fade" id="novaSalaModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content p-3">
      <h4>Cadastrar nova sala</h4>
      <form id="formNovaSala">
        <div class="mb-3">
          <label>Nome da sala</label>
          <input type="text" class="form-control" name="nome" required>
        </div>
        <div class="mb-3">
          <label>Capacidade</label>
          <input type="number" class="form-control" name="capacidade" required>
        </div>
        <div class="mb-3">
          <label>Equipamentos</label>
          <input type="text" class="form-control" name="equipamentos">
        </div>
        <button type="submit" class="btn btn-success">Salvar</button>
      </form>
    </div>
  </div>
</div>

{% endblock %}
